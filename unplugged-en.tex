\documentclass[b5paper,twoside]{book}
\usepackage[nomarginpar
  %, margin=.5in
  , top=1.5cm, bottom=1.5cm, left=2cm, right=2cm
]{geometry}

% ==================== Book flag==========================

\global\let\wholebook=\relax %without relax, we build article, esle book

\usepackage[en]{prelude}
\usepackage[firstpage=true]{background}

\setcounter{page}{1}

\graphicspath{
  {img/}
  {nat/}
  {recursion/}
  {algebra/}
  {category-theory/}
  {deduction/}
  {infinity/}
  {paradox/}
}

\makeindex

\begin{document}

% set PDF properties
\hypersetup{pdftitle={unplugged},%
            pdfauthor={liuxinyu95@gmail.com},%
            pdfsubject={Math},%
            pdfkeywords={Math, CS}}

% ================================================================
%                 COVER PAGE
% ================================================================

% https://en.wikipedia.org/wiki/File:FWF_Samuel_Monnier_d%C3%A9tail.jpg
\backgroundsetup{
  scale=2,
  opacity=0.4,
  angle=0,
  position={0,0},
  contents={
    \includegraphics[width=\paperwidth,height=\paperheight]{img/cover-bg.jpg}}
}

\title{
  {\bf \Huge Isomorphism \newline}
  \vspace{5mm}
  {\bf -- Mathematics of Programming \newline \newline \newline}
  \centering
  \scalebox{0.3}{\includegraphics{nat/img/the-school-of-athens.jpg}}
}

\author{LIU Xinyu
  \thanks{ liuxinyu95@gmail.com, Version: 0.6180339887498949}
}

\maketitle

\frontmatter
\subimport{appendix/preface/}{preface-en.tex}

% ================================================================
%                 Content
% ================================================================

%\newpage
\tableofcontents
\newpage

\mainmatter

\subimport{nat/}{nat-en.tex}

\subimport{recursion/}{recursion-en.tex}

\subimport{algebra/}{algebra-en.tex}

\subimport{category-theory/}{category-en.tex}

\subimport{deduction/}{deduction-en.tex}

\subimport{infinity/}{infinity-en.tex}

\subimport{paradox/}{paradox-en.tex}

\part*{Appendix}
\appendix
%\appendixpage
\noappendicestocpagenum
\addappheadtotoc

\backmatter
\subimport{appendix/answer/}{ans-en.tex}

\subimport{appendix/nat/}{nat-en.tex}

\subimport{appendix/category/}{category-en.tex}

%\part{Reference}
\subimport{appendix/reference/}{reference-en.tex}

\printindex

\input{fdl-1.3.tex}

\end{document}
